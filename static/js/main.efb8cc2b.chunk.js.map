{"version":3,"sources":["auth/useAuth.js","components/public/Header.js","services/db.js","components/profile/Profile.js","components/chat/ChatList.js","components/chat/Message.js","components/chat/Chat.js","components/landingPage/Welcome.js","components/landingPage/LandinPage.js","components/public/LoginPage.js","components/landingPage/NoMatch.js","App.js","index.js"],"names":["fakeAuth","isAuthenticated","signin","email","password","cb","setTimeout","signout","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","useProvideAuth","Provider","value","useAuth","useContext","useStyles","makeStyles","theme","grow","flexGrow","title","breakpoints","up","display","sectionDesktop","sectionMobile","PrimarySearchAppBar","classes","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","history","useHistory","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","push","mobileMenuId","renderMobileMenu","IconButton","aria-label","aria-controls","aria-haspopup","color","className","AppBar","position","Toolbar","Typography","variant","noWrap","edge","db","Dexie","version","stores","chats","profile","root","flexWrap","margin","spacing","padding","width","button","marginTop","marginBottom","Profile","name","setName","submitted","setSubmitted","loadProfile","a","table","where","equalsIgnoreCase","toArray","data","useEffect","Paper","Grid","container","item","md","gutterBottom","LinearProgress","form","noValidate","onSubmit","preventDefault","timer","put","then","clearTimeout","TextField","required","fullWidth","label","autoFocus","onChange","e","target","Button","type","disabled","submit","cryptoRandomString","require","chat","messages","message","height","paper","textAlign","palette","text","secondary","floatingButton","bottom","right","ChatsPage","setChats","linkElement","replace","size","deleteElement","removeFromChats","delete","loadChats","limit","userData","map","sm","Card","card","CardActionArea","CardMedia","component","alt","image","CardContent","length","moment","date","fromNow","CardActions","Fab","max","host","Date","Math","floor","random","add","addToChats","orange","getContrastText","deepOrange","backgroundColor","purple","deepPurple","alignSelf","bot","messageWrapper","Message","props","xs","Avatar","ERROR_MESSAGE","valid","errorMessage","flexDirection","formWrapper","alignItems","minWidth","chatControl","left","bottomSpace","Chat","useParams","dummy","useRef","setChat","answers","setAnswers","loading","setLoading","setMessage","error","setError","loadChat","get","updateChat","newMessage","update","postAnswer","randomId","randomAnswer","handlePost","fetch","headers","response","json","current","scrollIntoView","behavior","Container","maxWidth","i","showChat","ref","endIcon","autoComplete","Send","alert","Welcome","LandingPage","avatar","main","SignInPage","setEmail","setPassword","location","useLocation","from","state","pathname","login","userExists","Copyright","align","Link","href","format","CssBaseline","Box","mt","NoMatch","PrivateRoute","rest","render","to","App","justify","exact","path","LoginPage","ChatList","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.efb8cc2b.chunk.js","sourcesContent":["import React, { useContext, createContext, useState } from \"react\";\n\nconst fakeAuth = {\n  isAuthenticated: false,\n  signin(email, password, cb) {\n    if(password === 'buba') {\n      fakeAuth.isAuthenticated = true;\n      setTimeout(cb, 100); // fake async\n    }\n  },\n  signout(cb) {\n    fakeAuth.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return (\n    <authContext.Provider value={auth}>\n      {children}\n    </authContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  return useContext(authContext);\n}\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n\n  const signin = (email, password, cb) => {\n    return fakeAuth.signin(email, password, () => {\n      setUser(email);\n      cb();\n    });\n  };\n\n  const signout = cb => {\n    return fakeAuth.signout(() => {\n      setUser(null);\n      cb();\n    });\n  };\n\n  return {\n    user,\n    signin,\n    signout\n  };\n}\n","import React, { useState } from 'react';\n\nimport { useAuth } from \"../../auth/useAuth\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  title: {\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n    cursor: 'pointer'\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function PrimarySearchAppBar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null);\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  let history = useHistory();\n  const auth = useAuth();\n\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={() => history.push(\"/profile\")}>Profile</MenuItem>\n      {auth.user ? <MenuItem onClick={() => {auth.signout(() => history.push(\"/\"))}}>Sign out</MenuItem> : <MenuItem onClick={() => history.push(\"/login\")}>Log in</MenuItem>}\n    </Menu>\n  );\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <AccountCircle />\n        </IconButton>\n        <p onClick={() => history.push(\"/profile\")}>Profile</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n          <LockOutlinedIcon />\n        </IconButton>\n        {auth.user ? <p onClick={() => {auth.signout(() => history.push(\"/\"))}}>Sign Out</p> : <p onClick={() => history.push(\"/login\")}>Log in</p>}\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\">\n        <Toolbar>\n          <Typography className={classes.title} variant=\"h6\" noWrap onClick={() => history.push(\"/\")}>\n            Philosopher desk\n          </Typography>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n          </div>\n          <div className={classes.sectionMobile}>\n            <IconButton\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n    </div>\n  );\n}\n","import Dexie from 'dexie'\nconst DB_NAME = 'chat-app';\n\nconst db = new Dexie(DB_NAME);\ndb.version(1).stores({\n  chats: '&id, *host, *date',\n  profile: '++id, name'\n});\n\nexport default db","import React, { useState, useEffect } from \"react\";\nimport db from '../../services/db';\nimport { useAuth } from \"../../auth/useAuth\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(4),\n      padding: theme.spacing(2),\n      width: '100%',\n    },\n  },\n  button: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(4),\n  }\n}));\n\nconst Profile = () => {\n  const classes = useStyles();\n  const auth = useAuth();\n  const [name, setName] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n\n  const validateForm = () => {\n    return name? true : false;\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setSubmitted(true)\n    const timer = setTimeout(() => {\n      db.profile\n      .put({id: auth.user, name})\n      .then(() => setSubmitted(false))\n    }, 1500);\n    return () => clearTimeout(timer);\n    \n  }\n\n  const loadProfile = async () => {\n    const data = await db.table('profile').where(\"id\").equalsIgnoreCase(auth.user).toArray()\n    setName(data[0].name)\n  }\n\n  useEffect(() => {\n    loadProfile()\n  },[])\n\n  return (\n    <div className={classes.root}>\n      <Paper>\n        \n        <Grid container>\n          <Grid item md={6}>\n            <Typography variant=\"h2\" gutterBottom>Profifle{submitted ? <LinearProgress /> : name ? `: ${name}` : ''}</Typography>\n            <form className={classes.form} noValidate onSubmit={handleSubmit}>\n              <TextField\n                variant='outlined'\n                margin='normal'\n                required\n                fullWidth\n                id='name'\n                label='Your name'\n                name='name'\n                autoFocus\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n              <Button\n                type='submit'\n                fullWidth\n                variant='contained'\n                color='primary'\n                disabled={!validateForm()}\n                className={classes.submit}\n              >\n                Update\n              </Button>\n            </form>\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  );\n}\n\nexport default Profile","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from 'moment';\nimport db from '../../services/db';\nimport { useAuth } from \"../../auth/useAuth\";\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst cryptoRandomString = require('crypto-random-string');\nconst chat = {\n  messages : [\n    {user: 'bot', message: 'Hello My friend. This is a philosopher desk app that response to you with the very smart answer. In case you`re too smart it always has an option to ofer you a Google services. So treat it with patience and enjoy!'}\n  ]\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    margin: theme.spacing(4),\n    height: '100vh'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  floatingButton: {\n    position: 'fixed',\n    bottom: '60px',\n    right: '20px'\n  },\n}));\n\nconst ChatsPage = () => {\n  const [chats, setChats] = useState([])\n  const [user, setUser] = useState({})\n  const auth = useAuth();\n  let history = useHistory();\n\n  const linkElement = (chat) => {\n    return <Button onClick={()=> {history.replace(`/chats/${chat.id}`)}} size=\"small\" color=\"primary\">Continue chat</Button>\n  }\n  const deleteElement = (chat) => {\n    return <Button onClick={()=> {removeFromChats(chat)}} size=\"small\" color=\"primary\">Remove</Button>\n  }\n\n  const addToChats = (chat) => {\n    const getRandomInt = (max) => {\n      return Math.floor(Math.random() * Math.floor(max));\n    }\n    chat.id = cryptoRandomString({length: 20})\n    chat.host = auth.user\n    chat.date = new Date()\n    chat.image = `https://picsum.photos/id/${getRandomInt(100)}/400/300`\n    db.table('chats')\n      .add(chat)\n    history.replace(`/chats/${chat.id}`)\n  }\n  const removeFromChats = (chat) => {\n    db.table('chats')\n      .delete(chat.id)\n    loadChats()\n  }\n  const loadChats = async () => {\n    const data = await db.chats.where(\"host\").equalsIgnoreCase(auth.user).limit(20).toArray()\n    const userData = await db.profile.where(\"id\").equalsIgnoreCase(auth.user).toArray()\n    setUser(userData[0])\n    setChats(data)\n  }\n\n  useEffect(() => {\n    loadChats()\n  },[])\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={3}>\n        {chats.map((chat) => { \n          return (\n            <Grid key={chat.id} item sm={12} md={4}>\n              <Card className={classes.card}>\n                <CardActionArea onClick={()=> {history.replace(`/chats/${chat.id}`)}}>\n                  <CardMedia\n                    component=\"img\"\n                    alt=\"Contemplative Reptile\"\n                    height=\"200\"\n                    image={chat.image ? chat.image : \"/logo512.png\"}\n                    title=\"Contemplative Reptile\"\n                  />\n                  <CardContent>\n                    <Typography gutterBottom variant=\"h6\">\n                      {user.name? user.name : user.id}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                      Messages: {chat.messages.length}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                      Created: {moment(chat.date).fromNow()}\n                    </Typography>\n                  </CardContent>\n                </CardActionArea>\n                <CardActions>\n                  {linkElement(chat)}\n                  {deleteElement(chat)}\n                </CardActions>\n              </Card>\n            </Grid>\n          )\n        })}\n      </Grid>\n      <Fab \n        className={classes.floatingButton} \n        color=\"primary\" \n        aria-label=\"add\" \n        onClick={() => addToChats(chat)}>\n        <AddIcon />\n      </Fab>\n    </div>\n  );\n}\nexport default ChatsPage","import React from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      marginBottom: theme.spacing(1),\n    },\n  },\n  orange: {\n    color: theme.palette.getContrastText(deepOrange[500]),\n    backgroundColor: deepOrange[500],\n  },\n  purple: {\n    color: theme.palette.getContrastText(deepPurple[500]),\n    backgroundColor: deepPurple[500],\n  },\n  user: {\n    alignSelf: 'flex-end',\n    width: '100%',\n  },\n  bot: {\n    alignSelf: 'flex-start',\n    width: '100%',\n  },\n  messageWrapper: {\n    padding: '20px',\n  }\n}));\n\nconst Message = (props) => {\n  const classes = useStyles()\n  const {message} = props\n\n  return (\n    <Grid xs={10} md={5} item className={message.user !== 'bot'? classes.user : classes.bot}>\n      <Paper className={classes.messageWrapper}>\n        <Grid container>\n          <Grid item xs={3}>\n            {message.user === 'bot'? <Avatar className={classes.orange}>B</Avatar> : <Avatar className={classes.purple}>U</Avatar>}\n          </Grid>\n          <Grid item xs={9}>\n            {message.message}\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>    \n  )\n}\n\nexport default Message","import React, { useState, useEffect, useRef } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport db from '../../services/db';\nimport Message from \"./Message\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Container, Grid, Paper, TextField, Button, Typography, LinearProgress } from '@material-ui/core';\nimport { Send } from '@material-ui/icons';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\n\nconst ERROR_MESSAGE = {valid: true, errorMessage: ''}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n    flexWrap: 'nowrap',\n    flexDirection: 'column',\n  },\n  formWrapper: {\n    padding: 10,\n    alignItems: 'center',\n    // height: 120,\n    '& .MuiGrid-item:first-of-type': {\n      textAlign: 'right',\n    }\n  },\n  button: {\n    minWidth: 'unset',\n    '& .MuiButton-endIcon': {\n      margin: 0,\n    }\n  },\n  chatControl: {\n    position: 'fixed',\n    bottom: 0,\n    width: '100%',\n    left: 0,\n  },\n  bottomSpace: {\n    marginBottom: '100px',\n  },\n  title: {\n    marginTop: 20,\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n}));\n \nconst Chat = () => {\n  const classes = useStyles();\n  const { id } = useParams();\n  const dummy = useRef();\n  const [chat, setChat] = useState([]);\n  const [answers, setAnswers] = useState();\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState(ERROR_MESSAGE);\n  let history = useHistory();\n\n  const getAnswers=()=>{\n    fetch('mockAnswer.json', {\n      headers : { \n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n       }\n      })\n      .then(function(response){\n        return response.json();\n      })\n      .then(function(data) {\n        setAnswers(data.answers);\n      });\n  }\n\n  const loadChat = async () => {\n    const data = await db.table('chats').get({id})\n    setChat(data.messages)\n    setLoading(false)\n  }\n  const updateChat = async (newMessage) => {\n    const { messages } = await db.table('chats').get({id})\n    messages.push(newMessage)\n    db.table('chats').update(id, {messages})\n      .then(() => {\n        setMessage('')\n        setChat(messages)\n      })\n    return true\n  }\n  const postAnswer = async () => {\n    const { messages } = await db.table('chats').get({id})\n    const randomId = Math.floor(Math.random() * 100)\n    const randomAnswer = answers[randomId]\n    if (randomAnswer) {\n      messages.push({user: 'bot', message: randomAnswer})\n    } else {\n      messages.push({user: 'bot', message: 'Try to google'})\n    }\n    setLoading(true)\n    const timer = setTimeout(() => {\n      db.table('chats').update(id, {messages})\n      .then(() => {\n        setChat(messages)\n        setLoading(false)\n      })\n    }, 1500);\n    return () => clearTimeout(timer);\n  }\n  const handlePost = async (e) => {\n    e.preventDefault();\n    if(message !=='') {\n      updateChat({\n        user: 'user',\n        message\n      })\n        .then(() => postAnswer())\n      return true\n    } else {\n      setError({\n        valid:false,\n        errorMessage: 'Can`t be blank',\n      })\n    }\n  }\n\n  const showChat = (chat) => {\n    return chat.length > 0 ? chat.map((message, i) => <Message key={i} message={message}/>) : null\n  }\n\n  useEffect(()=>{\n    getAnswers()\n    loadChat()\n  },[])\n\n  useEffect(() => {\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\n  }, [chat])\n\n  return (\n  <Container maxWidth=\"md\">\n    <Typography variant=\"h6\" className={classes.title}>Begining of the chat</Typography>\n    <Grid container className={classes.root}>\n      {showChat(chat)}\n      {loading ? <LinearProgress /> : null}\n      <span ref={dummy}></span>\n    </Grid>\n    <Paper className={classes.chatControl}>\n      <Grid container className={classes.formWrapper}>\n        <Grid item xs={1}>\n          <Button \n            color=\"secondary\"\n            endIcon={<ArrowBackIosIcon />}\n            onClick={() => history.replace('/chats')}\n            className={classes.button}\n          >\n        </Button>\n        </Grid>\n        <Grid item xs>\n          <form className={classes.root} autoComplete=\"off\" onSubmit={(e) => handlePost(e)}>\n            <TextField\n            error={!error.valid}\n            id=\"outlined-basic\" \n            label={!error.valid ? error.errorMessage : \"Enter Your Message\" }\n            variant=\"outlined\"\n            value={message}\n            onChange={(e) => {\n              setError(ERROR_MESSAGE)\n              setMessage(e.target.value)\n              }}\n            />\n          </form>\n        </Grid>\n        <Grid item xs={1}>\n          <Button\n              color=\"primary\"\n              className={classes.button}\n              size=\"large\"\n              endIcon={<Send />}\n              onClick={(e) => handlePost(e)}\n            >\n          </Button>\n        </Grid>\n      </Grid>\n    </Paper>\n  </Container>\n  )\n}\n\nexport default Chat","import React from \"react\";\nimport { useAuth } from \"../../auth/useAuth\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(4),\n      padding: theme.spacing(2),\n      width: '100%',\n    },\n  },\n  button: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(4),\n  },\n  alert: {\n    color: 'tomato',\n  }\n}));\n\nconst Welcome = (props) => {\n  const { name } = props;\n  const auth = useAuth();\n  const classes = useStyles();\n  const history = useHistory()\n\n  return (\n    <div className={classes.root}>\n      <Paper>\n        <Typography variant=\"h2\" gutterBottom>Welcome<span>{name ? `: ${name}` : ''}</span></Typography>\n        {\n          auth.user ? \n          <Typography variant=\"subtitle1\" gutterBottom>It's been a while since your last visit. Start chating stright away, click on the button bellow.</Typography>\n          :\n          <Typography variant=\"subtitle1\" gutterBottom>\n          It might be that you're visiting the app for the first time. Sigh in (any email you have) by clickicking on the button bellow. Your special secret code: <span className={classes.alert}>\"buba\"</span>\n          </Typography>\n        }\n        <Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={()=> {history.replace('/chats')}}>See the Chats List</Button>\n      </Paper>\n    </div>\n  );\n}\n\nexport default Welcome","import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../../auth/useAuth\";\nimport db from '../../services/db';\nimport Welcome from \"./Welcome\";\n\nconst LandingPage = () => {\n  const auth = useAuth();\n  const [name, setName] = useState('');\n  const loadProfile = async () => {\n    if (auth.user) {\n      const data = await db.table('profile').where(\"id\").equalsIgnoreCase(auth.user).toArray()\n      setName(data[0].name)\n    }\n  }\n\n  useEffect(() => {\n    loadProfile()\n  },[])\n\n  return ( \n    <Welcome name={name}></Welcome>\n  )\n}\nexport default LandingPage","import React, { useState } from 'react';\nimport moment from 'moment';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { useAuth } from '../../auth/useAuth';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport db from '../../services/db';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nconst SignInPage = () => {\n  const classes = useStyles();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  let history = useHistory();\n  let location = useLocation();\n  const auth = useAuth();\n\n  let { from } = location.state || { from: { pathname: '/' } };\n  let login = async (email, password) => {\n    auth.signin(email, password, async () => {\n      const user = await db.table('profile').where(\"id\").equalsIgnoreCase(email).toArray()\n      const userExists = user.length > 0\n      db.profile.put({id: email, name: userExists ? user[0].name : ''})\n      .then(() => history.replace(from))\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    login(email, password);\n  }\n\n  const validateForm = () => {\n    return email.length > 0 && password.length > 0;\n  }\n\n  const Copyright = () => {\n    return (\n      <Typography variant='body2' color='textSecondary' align='center'>\n        {'Copyright Â© '}\n        <Link color='inherit' href='/'>\n          Philosopher desk\n        </Link>{' '}\n        {moment().format('YYYY')}\n        {'.'}\n      </Typography>\n    )\n  }\n\n  return (\n    <Container component='main' maxWidth='xs'>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component='h1' variant='h5'>\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant='outlined'\n            margin='normal'\n            required\n            fullWidth\n            id='email'\n            label='Email Address'\n            name='email'\n            autoComplete='email'\n            autoFocus\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <TextField\n            variant='outlined'\n            margin='normal'\n            required\n            fullWidth\n            name='password'\n            label='Password'\n            type='password'\n            id='password'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            autoComplete='current-password'\n          />\n          <Button\n            type='submit'\n            fullWidth\n            variant='contained'\n            color='primary'\n            disabled={!validateForm()}\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n        </form>\n      </div>\n      <Box mt={4}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default SignInPage","import React from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(4),\n      padding: theme.spacing(2),\n      width: '100%',\n    },\n  },\n  button: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(4),\n  },\n  error: {\n    color: 'tomato',\n  }\n}));\n\nconst NoMatch = () => {\n  const classes = useStyles();\n  const history = useHistory()\n  let location = useLocation();\n\n  return (\n    <div className={classes.root}>\n      <Paper>\n        <Typography variant=\"h2\" gutterBottom>Page not found <span className={classes.error}>404</span></Typography>\n        <Typography variant=\"subtitle1\" gutterBottom> No match for <span className={classes.error}>..{location.pathname}</span></Typography>\n        <Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={()=> {history.replace('/chats')}}>Back to main page</Button>\n      </Paper>\n    </div>\n  );\n}\n\nexport default NoMatch","import React from \"react\";\nimport { ProvideAuth, useAuth } from \"./auth/useAuth\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport Header from \"./components/public/Header\"\nimport Profile from \"./components/profile/Profile\"\nimport ChatList from \"./components/chat/ChatList\"\nimport Chat from \"./components/chat/Chat\"\nimport LandingPage from \"./components/landingPage/LandinPage\"\nimport LoginPage from \"./components/public/LoginPage\"\nimport NoMatch from \"./components/landingPage/NoMatch\"\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: '70px',\n    marginBottom: '100px',\n  },\n}));\n\nconst PrivateRoute = ({ children, ...rest }) => {\n  const auth = useAuth();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        auth.user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nconst App = () => {\n  const classes = useStyles();\n  return (\n    <ProvideAuth>\n      <Router>\n        <Header />\n        <Grid container justify=\"center\" className={classes.root}>\n          <Grid item xs={12}>\n            <Switch>\n            <Route exact path=\"/\">\n              <LandingPage />\n            </Route>\n            <Route path=\"/login\">\n              <LoginPage />\n            </Route>\n            <PrivateRoute path=\"/chats/:id\">\n              <Chat />\n            </PrivateRoute>\n            <PrivateRoute path=\"/chats\">\n              <ChatList />\n            </PrivateRoute>\n            <PrivateRoute path=\"/profile\">\n              <Profile />\n            </PrivateRoute>\n            <PrivateRoute path=\"/philosopher-desk\">\n              <LandingPage />\n            </PrivateRoute>\n            \n            <PrivateRoute path=\"*\">\n              <NoMatch />\n            </PrivateRoute>\n            </Switch>\n          </Grid>\n        </Grid>\n      </Router>\n    </ProvideAuth>\n  );\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}